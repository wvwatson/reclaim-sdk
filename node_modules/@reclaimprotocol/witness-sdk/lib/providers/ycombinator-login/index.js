"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const wrapper_1 = require("../http-provider/wrapper");
const YCombinatorLogin = (0, wrapper_1.wrapInHttpProvider)({
    getParams: ({ userId }) => ({
        url: 'https://bookface.ycombinator.com/home',
        method: 'GET',
        responseSelections: [
            {
                'jsonPath': '$.currentUser',
                'xPath': "//*[@id='js-react-on-rails-context']",
                'responseMatch': `{\"id\":${userId},.*?waas_admin.*?:{.*?}.*?:{.*?}.*?(?:full_name|first_name).*?}`
            }
        ]
    }),
    getSecretParams: ({ cookieStr }) => ({
        cookieStr
    }),
    areValidParams: (params) => {
        const userId = +(params.userId || '');
        return (!Number.isNaN(userId)
            && userId > 0);
    }
});
exports.default = YCombinatorLogin;
